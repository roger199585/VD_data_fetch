import * as mysql from 'mysql'
import * as fs from 'fs'

async function readFolder(): Promise<string[]> {
    return await fs.readdirSync('../outputs')
}

export async function test() {
    let old_data: string[] = ["V8001H0_0", "VXPHLA0_0", "VSXTK20_0", "V9030A2_0", "V7HMH00_0", "VIKQU50_0", "VJWJ700_0", "VGKCG40_1", "VQFHC20_1", "V4230B0_0", "V4271C0_0", "VQEJY00_0", "VHNJV20_0", "VSNVA60_0", "VILPI20_0", "VKII640_0", "VMDL800_1", "VJFPW01_1", "V5070A1_0", "V6160C1_0", "VLEWX20_0", "V6180A1_0", "VJDST20_0", "VJPEI60_0", "VFNN700_0", "VL7PX00_1", "V2310G0_0", "V42E2E0_0", "V1080A0_0", "V6171C0_0", "VP5KR60_1", "VIVS602_0", "V4220D0_0", "V1CPB00_0", "VJFQQ60_3", "V5080A0_0", "VLRIF20_0", "VZAJE60_1", "VSM4D60_0", "V42B1D0_0", "V12G2E0_0", "VKVJB60_1", "VJFPW00_0", "V1TT960_1", "VLEWX20_1", "VJFPW60_0", "VL6IA60_0", "VJQEB00_0", "V6151C1_2", "VNZ4641_0", "VGLKW40_0", "VLQLI40_0", "VKLPX00_1", "VGMFQ20_1", "V5B2R20_0", "V4250B0_0", "VQFHV60_0", "VMUGG20_0", "VGYER20_0", "VEZPT20_0", "VEWM500_0", "VN5HV00_1", "VB9L800_1", "V2LSS20_1", "VLMR820_1", "VQEJY00_1", "VIGHK20_0", "V50C2A0_0", "V8010A2_2", "V1SNV00_0", "VNES600_1", "VB5PL40_0", "VRGUF00_1", "VQFHC20_0", "VP5KR40_0", "V58AH60_0", "VFDGP01_0", "VYLJ620_0", "V1240E0_0", "VLV3D60_0", "V0380F0_0", "V3MER00_0", "V3UNW00_0", "V4080G0_0", "VXSLB20_0", "VP8QY00_0", "VLBHN00_1", "VQEUU60_0", "VMTG520_1", "VQGFY41_0", "V8250E0_0", "VHLM800_0", "V0140C0_0", "VN5IG20_1", "VNDRK20_1", "VM64J20_2", "V6330G5_0", "V3AIL00_1", "V1210E0_0", "VP5QG20_0", "VLAKQ20_0", "V6340G1_0", "V9040A0_0", "VSDPM60_0", "VNZLJ40_1", "VLKGF40_0", "V42B0D0_0", "VQKWL40_1", "V2RTQ20_0", "V9FLB00_4", "VIKQP20_0", "VQKWL00_2", "VIKPW61_0", "VJWJ720_1", "VKAHN20_1", "VMLXB00_1", "VT9NN00_1", "V6330G7_0", "VM9QH20_0", "VKLLH20_1", "VMV4U41_0", "V8230E1_0", "V03D0G0_0", "V1220E0_0", "VIPJA20_0", "V2101B0_0", "VMUGG20_1", "V6160C6_0", "VTXQJ20_0", "VIAM700_0", "VI6NV00_1", "V1231E0_0", "V0160C0_0", "VF9KB20_0", "V0UVS20_1", "VFZK620_1", "V40A2G0_0", "VQKWL40_0", "V8010A1_0", "VU5IF00_0", "VF9KB00_1", "VIKQP20_1", "VTYXQ60_0", "VK8LT20_0", "VK6P820_0", "VFNNH40_0", "VIRHZ20_0", "VN0A0E0_0", "VGKCG60_1", "VMQ4C40_1", "V1040A0_0", "VMZLI20_0", "VSNRE00_1", "VFPMQ20_0", "V5B2R60_0", "V5260E0_0", "V1NMM20_0", "VJGN700_0", "V12D2E0_0", "VI9QP10_0", "VF9KW60_0", "V6150C1_0", "VHBGA00_0", "VN2B0E1_0", "VLQLI00_1", "VGKCG20_0", "VQGF701_0", "V2130C0_0", "VINJW00_0", "V03B0G0_0", "VU8EF00_0", "V10C0A0_0", "V1250E0_0", "V52H2E0_0", "VWRLS20_0", "V52J2E0_0", "VN0C0E1_0", "VKWNV20_0", "VFYKD40_1", "V5G1K20_0", "VMEKQ40_0", "VQEUU60_1", "VU8EF20_0", "VFWBS00_1", "VINJW00_1", "VMQGX40_0", "VLKSH00_0", "V8040A0_0", "VM010A2_0", "VIRHZ20_1", "VP6IG60_0", "VJMHU60_0", "V3ZT820_0", "VN2E0E0_0", "VB5PL60_1", "VPLJF00_0", "VLRJE00_0", "VK9KC60_0", "V4011A0_0", "VCPKT00_0", "VZAJE60_0", "VU5IF00_1", "VFYKD40_0", "VJQJI20_1", "VMCN800_0", "VLMR820_0", "V6160C4_0", "VKLPX00_0", "V3330G0_0", "V1NMM20_1", "V42A0D0_0", "V5250E0_0", "V3AIL00_0", "VLY4920_0", "VYBIB00_1", "VSWMR40_1", "VHMM620_0", "VEVIV40_0", "VHLM800_1", "VRGUF00_0", "V0150C0_0", "VKZQW20_0", "V9230A1_0", "V52C1E0_0", "VGTPW50_0", "V2KLN40_1", "V52C0E0_0", "V4NJD00_0", "VVYIV00_1", "V03E0G1_0", "VF9M500_0", "VN2C0E0_0", "VRKQZ40_0", "VVVGB40_1", "VFYKD01_1", "VKWN800_1", "VSPRA40_1", "VEFMN40_0", "VJERC50_0", "VF9NH00_1", "V6330G8_0", "VP6JY40_0", "V1270E0_0", "VJERC40_0", "VEWN0C0_0", "VFVGM00_0", "VILNY60_0", "VTXQL00_0", "VPYIH40_0", "VJSJD40_1", "VHJS620_2", "VNUNJ20_1", "VH6CN60_1", "VHFHU00_0", "V0140C1_0", "VP5KR60_0", "VRPSV70_0", "VJGNY60_0", "VMQMV00_0", "VDTJT00_0", "V6151C1_0", "VNZQA20_0", "VGYS640_0", "V4020A0_0", "VLRIF40_1", "VELJA00_0", "VG7EQ00_0", "VMBWS20_1", "VND3C20_1", "V8220E0_0", "V42K2C0_0", "VHKPV40_0", "VXPHLE0_0", "VHEPV40_0", "VIWRJ60_0", "V0UVS20_0", "VAGPE40_0", "VMAZC60_0", "V7010A0_0", "V4280C0_0", "VT8SZ60_0", "VB5PL60_0", "V1001A0_0", "VKESJ10_0", "V1CRT60_0", "VIVS602_2", "V6121A0_0", "VN2A0E0_0", "VSSWC60_0", "VCPKT40_0", "VFTLH60_1", "VQEJF20_0", "VLPN800_0", "VM7PP00_1", "VKVJB60_0", "V6151C0_0", "VH7EN60_0", "VSDPM60_1", "VSVI900_0", "VF9NH00_0", "VGKCG40_0", "VGYS7A1_0", "VGSGF00_1", "VKLLH20_0", "VG7EQ00_1", "VH6DG00_0", "VIPIZ61_0", "VQEJF20_1", "VIWRJ00_0", "V3110C0_0", "VGYS7A0_0", "VACTV20_0", "VHZC820_0", "VGHN840_0", "VIGHK20_1", "VNXPC00_0", "VQGF701_1", "VJTJ960_1", "V1241E0_0", "VSGRX60_0", "V0150C2_0", "VJHML20_0", "VINKW20_0", "VXWNW20_1", "VLAFP60_0", "VG7PG50_2", "VKNIV20_0", "VTZY920_0", "VQKWL61_0", "VGIBX60_0", "V2311G0_0", "VELJA00_1", "VK6L860_0", "VKAHN20_0", "VE4A420_1", "V6330G4_0", "VIDDL00_0", "V4270C0_0", "V1CPB00_1", "VZKPR20_0", "VNXPC00_1", "VJHKR21_1", "VLRJX00_1", "V1010A0_0", "VHMKV20_0", "V9010A0_0", "VPLKP40_0", "VND3C20_0", "VI9S600_0", "VK7KP40_0", "VLMG600_1", "VF9KW60_1", "VINKW00_0", "VSKTL00_0", "VGTHG00_1", "V5051A0_0", "VHKQP20_0", "VJERC51_0", "V8020A0_0", "V1020A1_0", "VP6JY60_0", "V6330G6_0", "VLAJE40_1", "VMZL960_1", "VN0B0E1_0", "VPWMA00_0", "VF9KB00_0", "VK7K820_0", "VN9PZ60_1", "V4050G0_0", "V1230E0_0", "VSHZU60_0", "VFNN700_1", "VHLNV00_0", "VHWGD60_0", "V1290E0_0", "VN7ST40_1", "V8040A1_0", "VMEKD00_0", "VQKWL60_1", "V52I2E0_0", "VFQM660_0", "VIKPW00_0", "VK5IE20_0", "VSEMA00_0", "VT6HS40_0", "VINM760_0", "VMDXF00_0", "VJWJ720_0", "VKVHI20_0", "V6351G0_0", "V1CRT60_1", "VT5QV00_0", "VMDXF00_1", "VHSH560_0", "V8001H2_3", "V2LSS20_0", "V3320G0_0", "VM8PX60_0", "V6151C0_2", "V2120C0_0", "V03C0G0_0", "VPDS600_1", "VHXS600_0", "VTGFS00_0", "VHWGD60_1", "VPYIH00_0", "V6380E0_0", "VLYGU40_0", "V6141E0_0", "VISCI20_0", "VN0B0E0_0", "V10D2A0_0", "V6171C1_0", "VM9QH20_1", "VI9EM00_0", "VX7FU40_0", "VI9RW20_0", "VJMHU00_0", "VNNFY00_1", "VIBHV20_0", "VLMG600_0", "V1NQM40_1", "VJUDT20_1", "VHWGD40_0", "VSQVZ20_0", "VS9TE00_0", "V1XLD00_1", "V7JCE40_0", "V1TT960_0", "VNLKR60_0", "VGYER20_1", "VNDRK20_0", "VLNX920_1", "VJFQQ00_0", "V6180A0_0", "VDENZ00_0", "VSPRA40_0", "VXWNW20_0", "V4231C0_0", "VQ6WK40_0", "V2KLN40_0", "VFVGM00_1", "VL7PX00_0", "V8001H1_0", "V8001H2_0", "VX9KL60_1", "V1260E0_0", "VDKJT00_1", "VIMNN00_0", "V9240A0_0", "VKP4L00_0", "VHHEF20_1", "VI9QP12_0", "VWRLS20_1", "VN0F0E0_0", "V3ZT820_1", "VMQMV00_1", "VLGGY60_0", "VMQGX40_1", "VI6NV00_0", "VPMSV40_1", "VSGLN60_0", "VRPSV00_0", "VQDLJ20_0", "VTVXH20_0", "VJGN700_1", "VJGPQ00_1", "VL7TM20_0", "VJT4T00_0", "VJES820_0", "VN5IG20_0", "VLRHT60_0", "VINKW40_0", "V9HKV40_0", "VLRIF40_0", "VTEZS20_0", "VNLJX20_0", "V2RTQ20_1", "V9250A2_0", "VZKPR20_1", "V1VJK40_0", "VLRJE00_1", "VACTV20_1", "V0390G0_0", "V9FLB00_0", "V1060A0_0", "VT5QV00_1", "VLXFX20_0", "V1NQM40_0", "V6160C5_0", "VHLNV00_1", "VJHM700_1", "V03D0G2_0", "VNNFY00_0", "V4081G0_0", "VJCTT20_0", "VL5GL60_0", "VKSIE60_0", "VN5JX20_0", "VHSIP20_0", "V12F2E0_0", "VEGCQ00_0", "VN2D0E0_0", "V2320G0_0", "VL9SB00_0", "VJMHU60_1", "VN5HV60_1", "VRTHD40_0", "VH7E720_1", "VU5QC60_0", "V4VDD40_0", "VK6NY60_0", "VSPRA60_0", "VINM760_1", "VGKCG60_0", "V2ZUI60_0", "VKRM820_1", "VIWR760_0", "VB9L800_0", "VQ6WK40_1", "VMYN820_0", "VFYKD01_0", "VHKQP20_2", "VQKWL61_1", "VS9TE00_1", "V5261F0_0", "VNKIG00_0", "VJTJ820_0", "VP6JY60_1", "VN2B0E2_0", "VN0E0E0_0", "VL7SU60_0", "VP8GI60_0", "VJFQQ60_0", "VN5HV61_0", "V56BU20_0", "V0120C0_0", "V4290C0_0", "VG8IK40_0", "VJ7II00_0", "VN0E0E2_0", "V36F660_0", "V1001B0_0", "VIWR760_11", "V4210D0_0", "VIBHV20_1", "V4070G0_0", "VNUNJ00_0", "VGUEI60_1", "V4010A0_0", "VT9FV00_0", "VJM4U00_0", "VM7FI60_0", "VN8PG20_1", "V1010A1_0", "V52A0E0_0", "VJVRL40_0", "V9260A0_0", "V6330G0_0", "V2WUA20_0", "VKWNV20_1", "VM64J20_0", "VM8PX60_1", "VQFHV41_0", "VJES820_2", "VHBGA01_1", "VN8GX40_0", "VIPIZ60_2", "VH6CN60_0", "VEUPN60_0", "VMYN820_1", "VU8EF20_1", "VEFM0C0_0", "VMTG520_0", "VJVRL11_0", "V6160C2_0", "V4261E0_0", "VSJJX20_1", "VQGFY00_1", "VHPEB20_0", "VGBBW60_0", "VVYIV00_0", "VN5IG00_0", "VHYFT00_0", "VIPJA20_1", "VLRHT00_1", "V10F2A0_0", "VQRTE00_1", "VLRKQ40_0", "VXJHS00_0", "VHX4E40_0", "VG7PG50_3", "VP8QY00_1", "VN0B0E2_0", "V0111C0_0", "V6110C0_0", "VN0F0E1_0", "VENCU40_0", "VX9KL60_0", "VKXET20_0", "VIME560_0", "VIPIZ61_1", "VRNIF00_0", "VKXRL60_1", "VJGMT20_0", "VG6J520_1", "V8250E1_0", "VKWN800_0", "VDTJW00_0", "V5070A2_0", "VZLKH60_1", "VPMSV40_0", "VRPSV00_1", "VHKPV60_0", "VHJS620_0", "VDKJT00_0", "VWGIV60_0", "VSQYA00_0", "VNF3G20_1", "VJCTT60_0", "VNLHV00_1", "VZLKH60_0", "V5060B0_0", "VMTR600_0", "V5AAF60_0", "VJTJ960_0", "VHMML20_0", "VJFPW01_0", "VJHM700_0", "V1SNV00_1", "VLRJX20_0", "V6320G0_0", "VDYN960_0", "VIGHK40_0", "V5050A0_0", "VTGFS00_1", "VN2C0E1_0", "VH9H820_0", "VIMNN00_1", "VE7GH40_0", "VMDL800_0", "VN5JX20_2", "VVVGB40_0", "VMZL961_1", "V1IUI20_0", "V42B1E0_0", "VLXZ720_0", "VV9IP40_0", "VKLGD20_0", "VEGCQ00_1", "VTEZS62_0", "V4060G0_0", "V6320G1_0", "VU8P760_0", "VJQJI20_0", "VTXQL00_1", "V03E0G0_0", "V7230E0_0", "VFTLH60_0", "VS7SN60_0", "VNXPC60_0", "VE4A420_0", "VP5KR62_1", "V1051A1_0", "VQGFY00_0", "VLRJM60_0", "V1XLD00_0", "VJGMT00_1", "VNKIG40_0", "VFZK620_0", "VI9R760_0", "VIME520_0", "VMZLI20_1", "VIXJ740_0", "VJPEI40_0", "V4040H1_0", "V1011A0_0", "VTTIF00_0", "VEWM560_0", "VYRGM00_1", "VGMFQ20_0", "VMFIG20_1", "VEWM500_1", "VRNIF00_1", "V6130C0_0", "VMFIG20_0", "VLNPU40_0", "VP8GX42_0", "V3120C0_0", "V1031A1_0", "V6180A2_0", "VL6RM20_1", "VV7GX00_0", "VAWVC20_0", "V1IUI20_1", "VINLD61_0", "V5261E0_0", "VJGNY60_1", "VGHN840_1", "V12E2E0_0", "VSEMA00_1", "VPJFZ00_1", "VHPBV00_0", "V1050A0_0", "VNES600_0", "V1221E0_0", "VJHKR40_0", "V4090H0_0", "VS6TI00_0", "VIPIZ60_0", "V6140C0_0", "VMZL961_0", "VQDLJ20_1", "VRTHD40_1", "VEVIV40_1", "V50B0A0_0", "V03D0G1_0", "V8030A0_0", "VG8IK40_1", "V03A0G0_0", "V52D0E0_0", "VQRTE00_0", "V2110C0_0", "VSVI940_0", "VUIFC60_0", "VHBGA01_0", "V0130A0_0", "VHPEB20_1", "VFYKD00_0", "VG8IK60_0", "V0112A0_0", "VAWVC20_1", "VP8GX00_0", "VLKSH01_0", "V9FKW40_1", "VCNKM20_0", "VN2B0E0_0", "V6140C1_0", "VKII640_1", "VKE4M40_0", "VDTJW00_1", "VLGGYA0_0", "VN0C0E2_0", "VN9PZ60_0", "V3310G0_0", "VJERC00_0", "V6360G1_0", "VAGPE40_1", "VNUNJ00_1", "VPJFZ00_0", "VSGLN60_1", "VLYGU40_1", "VGUEI60_0", "VMEJW40_0", "VW7HN20_1", "VF9KB60_0", "VHBGA00_1", "VJFQQ00_2", "VQGGJ20_0", "VINLD61_1", "VINKW20_1", "V5271E0_0", "VLBHN00_0", "V8220E1_0", "V5070A0_0", "V8240E0_0", "V8260E0_0", "VMEJW40_1", "VSNRE00_0", "V6330G2_0", "V6120C0_0", "V6150C0_0", "V1280E0_0", "VN5HV00_0", "VEFMN20_0", "V3311G0_0", "VPDS600_0", "V4291E0_0", "VHMKW40_0", "VMDL820_1", "V5062G0_0", "VMLXB00_0", "VLTEQ40_1", "VKJJP20_0", "VM6GJ00_0", "VQGFY01_1", "VK5IE20_1", "VG8IK60_1", "V1070A1_0", "VS6TI00_1", "VHYFT00_1", "VLRHT00_0", "V4031A0_0", "VLXZ720_1", "VYRGM00_0", "VJGPQ20_0", "VPHKR40_0", "VMZL960_0", "VSEMV60_0", "VL6RM20_0", "VGTHG00_0", "VJUDT20_0", "VHFHV00_0", "VJHKR21_0", "VJ7KV40_0", "VT9FV00_1", "VNZM960_0", "VFYKD41_0", "V3132C0_0", "VW7HN20_0", "VN8PG20_0", "V6310G0_0", "V4221E0_0", "V9FKW40_0", "V2321G0_0", "VK7K820_1", "VMEKD00_1", "VGIA660_0", "V8050A0_0", "V42I2E0_0", "V37JI40_1", "VLAJE40_0", "VSQYA00_1", "VKXET60_0", "VM7PP00_0", "V52C2E0_0", "VN2C0E2_0", "VIDDL00_1", "VJGMT00_0", "V8220E2_0", "VNZLJ40_0", "VL6IA60_1", "VN5HV61_1", "VRKQZ40_1", "V3UNW00_1", "VG6J520_0", "VLNX920_0", "VJSJD40_0", "V9201A0_0", "VLNPU40_1", "VUVHL40_0", "V6160C3_0", "VH6DG00_1", "VN0B0E3_0", "VM210E2_0", "VJVRL10_0", "VMQ4C40_0", "V9HKV40_1", "VXSLB20_1", "VSEMV60_1", "VLTEQ40_0", "VSGRX60_1", "VB5PL40_1", "VGKBM20_0", "VBWQ840_0", "VLQLI40_1", "V42K2C1_0", "VN7ST40_0", "VWGIV60_1", "VN2D0E2_0", "V42C0E0_0", "V9050A0_0", "VV9GE20_0", "VH7E760_0", "VLGGY60_1", "VKZQW20_1", "VIWRJ00_2", "VHWGD40_1", "V9211A0_0", "V1021A0_0", "VIQDB00_0", "VN0C0E0_0", "VM6GJ00_1", "VN2B0E3_0", "V42F2E0_0", "VHM3N40_0", "VJGPQ00_0", "VCZLY20_0", "VILPI20_2", "VPBTD70_0", "V6170C1_0", "VGBBW20_0", "VJTFX00_0", "VP8GX00_1", "VKRM820_0", "V6160C7_0", "VN2D0E1_0", "VNUNJ20_0", "V9IJV70_0", "VSWMR40_0", "V37JI40_0", "VI9QP11_0", "VMTR600_1", "VP5KR62_0", "VQGFY01_0", "VLDTB20_0", "V0130A1_0", "VLQLI00_0", "VPLJF00_1", "VHZC820_1", "V6351G0_2", "VRNIF40_0", "VH7E720_0", "VLRJX00_0", "VM7FI60_1", "VN8PT60_1", "VYBIB00_0", "V6160C0_0", "VFWBS00_0", "V6330G3_0", "V8010A2_0", "VJERC52_0", "VCPKT41_1", "V12B2E0_0", "VU9NA40_0", "VMEKQ41_0", "V5AAF60_1", "VJWJ740_0", "VMZM900_0", "VJCHS40_0", "VKCUX20_1", "VHEPV00_0", "VVCGQ40_0", "VLDTB20_1", "VTHRR20_0", "VXJHS00_1", "V5AAF61_0", "VN0E0E1_0", "VMDL820_0", "V9060A0_0", "V2330G0_0", "V03C0G1_0", "VLKGF40_1", "V4NJD00_3", "V10E2A0_0", "VI6I900_0", "VKCUX20_0", "VFVKW40_0", "VHPBV00_1", "VL9SB00_1", "VP8GX40_0", "VQKWL00_0", "VP6IG60_1", "VQFHV60_1", "VMBWS20_0", "V6360G0_0", "VT9NN00_0", "VSJJX20_0", "VKJEP40_0", "V0150C1_0", "VN2A0E1_0", "VH7E760_1", "VKESJ10_1", "VCCKW00_0", "VIXJ740_1", "VQGGJ20_1", "V6350G0_0", "V12C2E0_0", "VGSGF00_0", "VU8EF40_0", "V1030A0_0", "VN5HV60_0", "VTTIF00_1", "VMXH820_0", "VP8GI20_0", "VQFHV41_1", "VI9R760_2", "VFNNH40_1", "VNLHV00_0", "VEFMN60_0", "VJTFX00_1", "VN8PT60_0", "VMXH820_1", "V2PK0E0_0", "V52B1E0_0", "VQKWL60_0", "VNF3G20_0", "VP8GX40_1", "V6340G0_0"]

    var connection = mysql.createConnection({
        host: '140.113.210.7',
        database: 'CompleteDatas',
        user: 'corn',
        password: 'ec131b',
        insecureAuth: true
    });

    await connection.connect(function (err) {
        if (err) {
            console.error('Error connecting: ' + err.stack)
            return
        }
        console.log('Connected as id ' + connection.threadId)
    })
    // const fileNames: string[] = await readFolder()

    // for (const _filename of fileNames) {
    //     const filename = _filename.split('.')[0]
    //     const exisit: boolean | number = await new Promise<boolean | number>((resolve, reject) => {
    //         connection.query(`SELECT count(*) AS exisitRow FROM CompleteDatas.${filename}`, (error, result) => {
    //             if (error) {
    //                 resolve(false)
    //             }
    //             else {
    //                 resolve(result[0].exisitRow || 0)
    //             }
    //         })
    //     })

    //     if (!exisit) {
    //         await new Promise<void>((resolve, reject) => {
    //             connection.query(`CREATE TABLE CompleteDatas.${filename}(ID integer auto_increment primary key, Origin_flow integer DEFAULT 0, Predict_flow integer DEFAULT 0, Origin_speed integer DEFAULT 0, Origin_densify integer DEFAULT 0, Mask integer DEFAULT 0, Valid integer DEFAULT 0, unixtime VARCHAR(255), Week integer)`, (error, result) => {
    //                 if (error) reject(error)
    //                 else {
    //                     console.log(`${filename} 資料表建立完成`)
    //                     resolve()
    //                 }
    //             })
    //         })
    //     } else {
    //         console.log(`${filename} 已經存在了`)
    //     }
    // }

    for (const vd of old_data) {
        const exisit: boolean = await new Promise<boolean>((resolve, reject) => {
            connection.query(`SELECT * FROM CompleteDatas.${vd}`, (error, result) => {
                if (error) {
                    resolve(false)
                }
                else {
                    resolve(true)
                }
            })
        })

        if (!exisit) {
            await new Promise<void>((resolve, reject) => {
                connection.query(`CREATE TABLE CompleteDatas.${vd}(ID integer auto_increment primary key, Origin_flow integer DEFAULT 0, Predict_flow integer DEFAULT 0, Origin_speed integer DEFAULT 0, Origin_densify integer DEFAULT 0, Mask integer DEFAULT 0, Valid integer DEFAULT 0, unixtime VARCHAR(255), Week integer)`, (error, result) => {
                    if (error) reject(error)
                    else {
                        console.log(`${vd} 資料表建立完成`)
                        resolve()
                    }
                })
            })
        } else {
            console.log(`${vd} 已經存在了`)
        }
    }

    connection.end()
}

test()
